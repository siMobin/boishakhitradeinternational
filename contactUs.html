<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contact Us | StudentAbroad</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <link rel="shortcut icon" href="images/logo.png" type="image/x-icon" />
  </head>
  <body class="bg-white min-h-screen flex flex-col">
    <div id="header"></div>
    <!-- Banner -->
    <div class="bg-[linear-gradient(90deg,_#002147_0%,_#003A7D_50%,_#002147_100%)] text-white">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-14 text-center">
        <h1 class="text-3xl sm:text-4xl md:text-5xl font-extrabold">Contact Us</h1>
        <p class="mt-4 text-base sm:text-lg md:text-xl text-white/90 max-w-3xl mx-auto">Ready to start your study-abroad journey? Get in touch with our expert counselors today.</p>
      </div>
    </div>

    <!-- Content -->
    <main class="flex-1">
      <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-8 pb-12">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
          <!-- Form -->
          <div class="lg:col-span-2 bg-white border border-gray-200 rounded-2xl shadow-xl p-6">
            <h2 class="text-2xl text-center font-bold text-blue-600">Send Us a Message</h2>

            <form id="contactForm" class="mt-5 space-y-4" novalidate>
              <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                <div>
                  <label for="firstName" class="block text-sm font-medium text-gray-700">First Name</label>
                  <input id="firstName" name="firstName" type="text" required placeholder="Enter your first name" class="mt-1 w-full h-11 rounded-lg border border-gray-300 px-3 focus:outline-none focus:ring-2 focus:ring-blue-200 focus:border-blue-500" />
                  <p class="mt-1 text-xs text-red-600 hidden" data-err="firstName">Please enter your first name</p>
                </div>
                <div>
                  <label for="lastName" class="block text-sm font-medium text-gray-700">Last Name</label>
                  <input id="lastName" name="lastName" type="text" required placeholder="Enter your last name" class="mt-1 w-full h-11 rounded-lg border border-gray-300 px-3 focus:outline-none focus:ring-2 focus:ring-blue-200 focus:border-blue-500" />
                  <p class="mt-1 text-xs text-red-600 hidden" data-err="lastName">Please enter your last name</p>
                </div>
              </div>

              <div>
                <label for="email" class="block text-sm font-medium text-gray-700">Email Address</label>
                <input id="email" name="email" type="email" required placeholder="Enter your email" class="mt-1 w-full h-11 rounded-lg border border-gray-300 px-3 focus:outline-none focus:ring-2 focus:ring-blue-200 focus:border-blue-500" />
                <p class="mt-1 text-xs text-red-600 hidden" data-err="email">Please enter a valid email</p>
              </div>

              <div>
                <label for="phone" class="block text-sm font-medium text-gray-700">Phone Number</label>
                <input id="phone" name="phone" type="tel" placeholder="Enter your phone number" class="mt-1 w-full h-11 rounded-lg border border-gray-300 px-3 focus:outline-none focus:ring-2 focus:ring-blue-200 focus:border-blue-500" />
              </div>

              <div>
                <label for="destination" class="block text-sm font-medium text-gray-700">Preferred Destination</label>
                <input list="destinations" id="destination" name="destination" placeholder="e.g., Malaysia, Australia, Canada" class="mt-1 w-full h-11 rounded-lg border border-gray-300 px-3 focus:outline-none focus:ring-2 focus:ring-blue-200 focus:border-blue-500" />
                <datalist id="destinations">
                  <option>Malaysia</option>
                  <option>Australia</option>
                  <option>Canada</option>
                  <option>Germany</option>
                  <option>United Kingdom</option>
                  <option>United States</option>
                  <option>Netherlands</option>
                </datalist>
              </div>

              <div>
                <label for="message" class="block text-sm font-medium text-gray-700">Message</label>
                <textarea id="message" name="message" rows="5" maxlength="800" required placeholder="Tell us about your study abroad goals and any questions you have..." class="mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-200 focus:border-blue-500"></textarea>
                <div class="mt-1 flex items-center justify-between">
                  <p class="text-xs text-red-600 hidden" data-err="message">Please enter a message</p>
                  <span class="text-xs text-gray-500"><span id="msgCount">0</span>/800</span>
                </div>
              </div>

              <div class="flex items-center gap-2">
                <input id="consent" type="checkbox" class="h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500" />
                <label for="consent" class="text-sm text-gray-700"
                  >I agree to the
                  <a href="#" class="text-blue-600 underline">Privacy Policy</a>
                </label>
              </div>

              <div class="flex items-center gap-3 pt-1">
                <button id="sendBtn" type="submit" class="inline-flex items-center justify-center gap-2 px-5 h-11 rounded-lg bg-blue-600 text-white font-medium hover:bg-blue-700 shadow">
                  <i class="fa-solid fa-paper-plane fa-rotate-270"></i>
                  <span>Send Message</span>
                </button>
                <a href="https://wa.me/601161175133" target="_blank" class="inline-flex items-center gap-2 px-4 h-11 rounded-lg border border-green-200 text-green-700 hover:bg-green-50">
                  <i class="fa-brands fa-whatsapp"></i>
                  WhatsApp
                </a>
              </div>
            </form>
          </div>

          <!-- Contact details -->
          <aside class="space-y-4">
            <!-- Offices -->
            <div class="rounded-2xl border border-gray-200 bg-white p-5">
              <div class="flex items-start gap-3">
                <i class="fa-solid fa-location-dot text-2xl text-blue-600"></i>
                <div>
                  <p class="font-semibold text-gray-900">Bangladesh Office</p>
                  <p class="text-sm text-gray-600 mt-1">
                    Darus-Salam Arcade, 6th Floor (5th lift) <br />
                    14 Purana Paltan, Dhaka 1000, Bangladesh
                  </p>
                </div>
              </div>
              <div class="mt-4 flex items-start gap-3">
                <i class="fa-solid fa-location-dot text-2xl text-blue-600"></i>
                <div>
                  <p class="font-semibold text-gray-900">Malaysia Office</p>
                  <p class="text-sm text-gray-600 mt-1">Putra Court, 20-1, Jalan Ipoh Kecil, 10B, Chow Kit, Kuala Lumpur, Wilayah Persekutuan Kuala Lumpur 50350, Malaysia</p>
                </div>
              </div>
            </div>

            <!-- Phones -->
            <div class="rounded-2xl border border-gray-200 bg-white p-5">
              <div class="flex items-start gap-3">
                <i class="fa-solid fa-phone text-2xl text-blue-600"></i>
                <div class="w-full">
                  <p class="font-semibold text-gray-900">Phone</p>
                  <ul class="mt-1 text-sm text-gray-700 space-y-1">
                    <li class="flex items-center justify-between">
                      <a class="hover:underline" href="tel:+8801961656769">+880 1961-656769 (Bangladesh)</a>
                      <button class="text-xs text-blue-600 hover:underline copy" data-copy="+8801961656769">Copy</button>
                    </li>
                    <li class="flex items-center justify-between">
                      <a class="hover:underline" href="tel:+8801618660577">+880 1618-660577</a>
                      <button class="text-xs text-blue-600 hover:underline copy" data-copy="+8801618660577">Copy</button>
                    </li>
                    <li class="flex items-center justify-between">
                      <a class="hover:underline" href="tel:+601161175133">+60 11-6117 5133 (Malaysia)</a>
                      <button class="text-xs text-blue-600 hover:underline copy" data-copy="+601161175133">Copy</button>
                    </li>
                    <li class="flex items-center justify-between">
                      <a class="hover:underline" href="tel:+601161785257">+60 11-6178 5257</a>
                      <button class="text-xs text-blue-600 hover:underline copy" data-copy="+601161785257">Copy</button>
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <!-- Email -->
            <div class="rounded-2xl border border-gray-200 bg-white p-5">
              <div class="flex items-start gap-3">
                <i class="fa-solid fa-envelope text-2xl text-blue-600"></i>
                <div class="w-full">
                  <p class="font-semibold text-gray-900">Email</p>
                  <div class="mt-1 flex items-center justify-between text-sm text-gray-700">
                    <a class="hover:underline break-all" href="mailto:info.boishakhitradeint@gmail.com">info.boishakhitradeint@gmail.com</a>
                    <button class="text-xs text-blue-600 hover:underline copy" data-copy="info.boishakhitradeint@gmail.com">Copy</button>
                  </div>
                </div>
              </div>
            </div>
          </aside>
        </div>
      </section>
    </main>

    <!-- Toast -->
    <div id="toast" class="pointer-events-none fixed inset-x-0 bottom-6 flex justify-center px-4 hidden">
      <div class="pointer-events-auto rounded-lg bg-gray-900 text-white px-4 py-2 shadow-lg text-sm" id="toastMsg">—</div>
    </div>

    <div id="footer"></div>
    <script src="script.js"></script>
    <script>
      // Helpers
      const toast = document.getElementById("toast");
      const toastMsg = document.getElementById("toastMsg");
      const showToast = m => {
        toastMsg.textContent = m;
        toast.classList.remove("hidden");
        setTimeout(() => toast.classList.add("hidden"), 1800);
      };

      // Copy buttons
      document.querySelectorAll(".copy").forEach(btn => {
        btn.addEventListener("click", async () => {
          try {
            await navigator.clipboard.writeText(btn.dataset.copy);
            showToast("Copied to clipboard");
          } catch {
            showToast("Copy not available");
          }
        });
      });

      // Form logic
      const form = document.getElementById("contactForm");
      const sendBtn = document.getElementById("sendBtn");
      const btnSpinner = document.getElementById("btnSpinner");
      const msg = document.getElementById("message");
      const msgCount = document.getElementById("msgCount");

      // Character counter
      msg.addEventListener("input", () => {
        msgCount.textContent = msg.value.length;
      });

      // Persist last contact info
      const STORAGE_KEY = "sa_contact_last";
      window.addEventListener("DOMContentLoaded", () => {
        try {
          const saved = JSON.parse(localStorage.getItem(STORAGE_KEY));
          if (saved) {
            ["firstName", "lastName", "email", "phone", "destination", "message", "consent"].forEach(k => {
              const el = document.getElementById(k);
              if (!el) return;
              if (k === "consent") el.checked = saved[k] || false;
              else el.value = saved[k] || "";
            });
            msgCount.textContent = (document.getElementById("message").value || "").length;
          }
        } catch {}
      });

      function showError(id, on) {
        const err = document.querySelector(`[data-err="${id}"]`);
        if (err) err.classList.toggle("hidden", !on);
      }

      function validate() {
        let ok = true;
        const firstName = document.getElementById("firstName").value.trim();
        const lastName = document.getElementById("lastName").value.trim();
        const email = document.getElementById("email").value.trim().toLowerCase();
        const message = document.getElementById("message").value.trim();

        if (!firstName) {
          showError("firstName", true);
          ok = false;
        } else showError("firstName", false);
        if (!lastName) {
          showError("lastName", true);
          ok = false;
        } else showError("lastName", false);
        if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
          showError("email", true);
          ok = false;
        } else showError("email", false);
        if (!message) {
          showError("message", true);
          ok = false;
        } else showError("message", false);

        return ok;
      }

      form.addEventListener("submit", async e => {
        e.preventDefault();
        if (!validate()) return;

        // Save to localStorage
        const data = {};
        ["firstName", "lastName", "email", "phone", "destination", "message", "consent"].forEach(k => {
          const el = document.getElementById(k);
          data[k] = el.type === "checkbox" ? el.checked : el.value.trim();
        });
        localStorage.setItem(STORAGE_KEY, JSON.stringify(data));

        // Loading state
        sendBtn.disabled = true;
        btnSpinner.classList.remove("hidden");

        // Simulate API call
        await new Promise(res => setTimeout(res, 900));

        btnSpinner.classList.add("hidden");
        sendBtn.disabled = false;
        showToast("Thanks! Your message has been sent.");

        // Optional: clear message only
        document.getElementById("message").value = "";
        msgCount.textContent = "0";
      });
    </script>
  </body>
</html>
